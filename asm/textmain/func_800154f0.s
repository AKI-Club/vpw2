glabel func_800154F0
/* 0160F0 800154F0 27BDFF18 */  addiu $sp, $sp, -0xe8
/* 0160F4 800154F4 AFB200A8 */  sw    $s2, 0xa8($sp)
/* 0160F8 800154F8 24120001 */  li    $s2, 1
/* 0160FC 800154FC F7BA00D8 */  sdc1  $f26, 0xd8($sp)
/* 016100 80015500 3C018005 */  lui   $at, %hi(D_8004AB20)
/* 016104 80015504 D43AAB20 */  ldc1  $f26, %lo(D_8004AB20)($at)
/* 016108 80015508 00052C00 */  sll   $a1, $a1, 0x10
/* 01610C 8001550C 00052C03 */  sra   $a1, $a1, 0x10
/* 016110 80015510 00051880 */  sll   $v1, $a1, 2
/* 016114 80015514 00651821 */  addu  $v1, $v1, $a1
/* 016118 80015518 00031140 */  sll   $v0, $v1, 5
/* 01611C 8001551C 00431023 */  subu  $v0, $v0, $v1
/* 016120 80015520 AFB500B4 */  sw    $s5, 0xb4($sp)
/* 016124 80015524 0002A900 */  sll   $s5, $v0, 4
/* 016128 80015528 AFB100A4 */  sw    $s1, 0xa4($sp)
/* 01612C 8001552C 26B1007C */  addiu $s1, $s5, 0x7c
/* 016130 80015530 00051040 */  sll   $v0, $a1, 1
/* 016134 80015534 00451021 */  addu  $v0, $v0, $a1
/* 016138 80015538 00021080 */  sll   $v0, $v0, 2
/* 01613C 8001553C 00451023 */  subu  $v0, $v0, $a1
/* 016140 80015540 00021080 */  sll   $v0, $v0, 2
/* 016144 80015544 00451023 */  subu  $v0, $v0, $a1
/* 016148 80015548 00021140 */  sll   $v0, $v0, 5
/* 01614C 8001554C 00451023 */  subu  $v0, $v0, $a1
/* 016150 80015550 F7B600C8 */  sdc1  $f22, 0xc8($sp)
/* 016154 80015554 4486B000 */  mtc1  $a2, $f22
/* 016158 80015558 00021080 */  sll   $v0, $v0, 2
/* 01615C 8001555C F7BC00E0 */  sdc1  $f28, 0xe0($sp)
/* 016160 80015560 4487E000 */  mtc1  $a3, $f28
/* 016164 80015564 3C038009 */  lui   $v1, %hi(bssMain_800929DC) # $v1, 0x8009
/* 016168 80015568 246329DC */  addiu $v1, %lo(bssMain_800929DC) # addiu $v1, $v1, 0x29dc
/* 01616C 8001556C AFB300AC */  sw    $s3, 0xac($sp)
/* 016170 80015570 00439821 */  addu  $s3, $v0, $v1
/* 016174 80015574 AFB400B0 */  sw    $s4, 0xb0($sp)
/* 016178 80015578 249400DC */  addiu $s4, $a0, 0xdc
/* 01617C 8001557C AFBF00B8 */  sw    $ra, 0xb8($sp)
/* 016180 80015580 AFB000A0 */  sw    $s0, 0xa0($sp)
/* 016184 80015584 F7B800D0 */  sdc1  $f24, 0xd0($sp)
/* 016188 80015588 F7B400C0 */  sdc1  $f20, 0xc0($sp)

.L8001558C:
/* 01618C 8001558C 3C038004 */  lui   $v1, %hi(D_8003FF24)
/* 016190 80015590 00721821 */  addu  $v1, $v1, $s2
/* 016194 80015594 9063FF24 */  lbu   $v1, %lo(D_8003FF24)($v1)
/* 016198 80015598 106000EF */  beqz  $v1, .L80015958
/* 01619C 8001559C 24020002 */   li    $v0, 2

/* 0161A0 800155A0 1062000E */  beq   $v1, $v0, .L800155DC
/* 0161A4 800155A4 28620003 */   slti  $v0, $v1, 3

/* 0161A8 800155A8 10400005 */  beqz  $v0, .L800155C0
/* 0161AC 800155AC 24020001 */   li    $v0, 1

/* 0161B0 800155B0 10620026 */  beq   $v1, $v0, .L8001564C
/* 0161B4 800155B4 2664005C */   addiu $a0, $s3, 0x5c

/* 0161B8 800155B8 080055A7 */  j     .L8001569C
/* 0161BC 800155BC 00000000 */   nop   

.L800155C0:
/* 0161C0 800155C0 24020003 */  li    $v0, 3
/* 0161C4 800155C4 10620016 */  beq   $v1, $v0, .L80015620
/* 0161C8 800155C8 24020004 */   li    $v0, 4

/* 0161CC 800155CC 1062000B */  beq   $v1, $v0, .L800155FC
/* 0161D0 800155D0 00000000 */   nop   

/* 0161D4 800155D4 080055A7 */  j     .L8001569C
/* 0161D8 800155D8 00000000 */   nop   

.L800155DC:
/* 0161DC 800155DC 3C01800A */  lui   $at, %hi(bssMain_8009D68C)
/* 0161E0 800155E0 00310821 */  addu  $at, $at, $s1
/* 0161E4 800155E4 C420D68C */  lwc1  $f0, %lo(bssMain_8009D68C)($at)
/* 0161E8 800155E8 3C01800A */  lui   $at, %hi(bssMain_8009D694)
/* 0161EC 800155EC 00310821 */  addu  $at, $at, $s1
/* 0161F0 800155F0 C422D694 */  lwc1  $f2, %lo(bssMain_8009D694)($at)
/* 0161F4 800155F4 08005586 */  j     .L80015618
/* 0161F8 800155F8 E7A00098 */   swc1  $f0, 0x98($sp)

.L800155FC:
/* 0161FC 800155FC 3C01800A */  lui   $at, %hi(bssMain_8009D800)
/* 016200 80015600 00350821 */  addu  $at, $at, $s5
/* 016204 80015604 C420D800 */  lwc1  $f0, %lo(bssMain_8009D800)($at)
/* 016208 80015608 3C01800A */  lui   $at, %hi(bssMain_8009D808)
/* 01620C 8001560C 00350821 */  addu  $at, $at, $s5
/* 016210 80015610 C422D808 */  lwc1  $f2, %lo(bssMain_8009D808)($at)
/* 016214 80015614 E7A00098 */  swc1  $f0, 0x98($sp)

.L80015618:
/* 016218 80015618 080055A7 */  j     .L8001569C
/* 01621C 8001561C E7A2009C */   swc1  $f2, 0x9c($sp)

.L80015620:
/* 016220 80015620 3C01800A */  lui   $at, %hi(bssMain_8009D668)
/* 016224 80015624 00310821 */  addu  $at, $at, $s1
/* 016228 80015628 C420D668 */  lwc1  $f0, %lo(bssMain_8009D668)($at)
/* 01622C 8001562C 3C01800A */  lui   $at, %hi(bssMain_8009D66C)
/* 016230 80015630 00310821 */  addu  $at, $at, $s1
/* 016234 80015634 C422D66C */  lwc1  $f2, %lo(bssMain_8009D66C)($at)
/* 016238 80015638 3C01800A */  lui   $at, %hi(bssMain_8009D658)
/* 01623C 8001563C 00310821 */  addu  $at, $at, $s1
/* 016240 80015640 C424D658 */  lwc1  $f4, %lo(bssMain_8009D658)($at)
/* 016244 80015644 0800559C */  j     .L80015670
/* 016248 80015648 2664005C */   addiu $a0, $s3, 0x5c

.L8001564C:
/* 01624C 8001564C 3C01800A */  lui   $at, %hi(bssMain_8009D650)
/* 016250 80015650 00310821 */  addu  $at, $at, $s1
/* 016254 80015654 C420D650 */  lwc1  $f0, %lo(bssMain_8009D650)($at)
/* 016258 80015658 3C01800A */  lui   $at, %hi(bssMain_8009D66C)
/* 01625C 8001565C 00310821 */  addu  $at, $at, $s1
/* 016260 80015660 C422D66C */  lwc1  $f2, %lo(bssMain_8009D66C)($at)
/* 016264 80015664 3C01800A */  lui   $at, %hi(bssMain_8009D670)
/* 016268 80015668 00310821 */  addu  $at, $at, $s1
/* 01626C 8001566C C424D670 */  lwc1  $f4, %lo(bssMain_8009D670)($at)

.L80015670:
/* 016270 80015670 27A20098 */  addiu $v0, $sp, 0x98
/* 016274 80015674 AFA20010 */  sw    $v0, 0x10($sp)
/* 016278 80015678 44050000 */  mfc1  $a1, $f0
/* 01627C 8001567C 44061000 */  mfc1  $a2, $f2
/* 016280 80015680 44072000 */  mfc1  $a3, $f4
/* 016284 80015684 27A2009C */  addiu $v0, $sp, 0x9c
/* 016288 80015688 0C0043C1 */  jal   func_80010F04
/* 01628C 8001568C AFA20014 */   sw    $v0, 0x14($sp)

/* 016290 80015690 C7A00098 */  lwc1  $f0, 0x98($sp)
/* 016294 80015694 46000007 */  neg.s $f0, $f0
/* 016298 80015698 E7A00098 */  swc1  $f0, 0x98($sp)

.L8001569C:
/* 01629C 8001569C C7AC009C */  lwc1  $f12, 0x9c($sp)
/* 0162A0 800156A0 3C01800A */  lui   $at, %hi(bssMain_8009D67C)
/* 0162A4 800156A4 00310821 */  addu  $at, $at, $s1
/* 0162A8 800156A8 C420D67C */  lwc1  $f0, %lo(bssMain_8009D67C)($at)
/* 0162AC 800156AC C7AE0098 */  lwc1  $f14, 0x98($sp)
/* 0162B0 800156B0 46006301 */  sub.s $f12, $f12, $f0
/* 0162B4 800156B4 3C01800A */  lui   $at, %hi(bssMain_8009D674)
/* 0162B8 800156B8 00310821 */  addu  $at, $at, $s1
/* 0162BC 800156BC C420D674 */  lwc1  $f0, %lo(bssMain_8009D674)($at)
/* 0162C0 800156C0 46007381 */  sub.s $f14, $f14, $f0
/* 0162C4 800156C4 E7AC009C */  swc1  $f12, 0x9c($sp)
/* 0162C8 800156C8 0C00108A */  jal   func_80004228
/* 0162CC 800156CC E7AE0098 */   swc1  $f14, 0x98($sp)

/* 0162D0 800156D0 C7A40098 */  lwc1  $f4, 0x98($sp)
/* 0162D4 800156D4 46042102 */  mul.s $f4, $f4, $f4
/* 0162D8 800156D8 C7AC009C */  lwc1  $f12, 0x9c($sp)
/* 0162DC 800156DC 460C6302 */  mul.s $f12, $f12, $f12
/* 0162E0 800156E0 3C018005 */  lui   $at, %hi(D_8004AB28)
/* 0162E4 800156E4 D422AB28 */  ldc1  $f2, %lo(D_8004AB28)($at)
/* 0162E8 800156E8 46000021 */  cvt.d.s $f0, $f0
/* 0162EC 800156EC 46220002 */  mul.d $f0, $f0, $f2
/* 0162F0 800156F0 460C2300 */  add.s $f12, $f4, $f12
/* 0162F4 800156F4 0C00C2A0 */  jal   sqrtf
/* 0162F8 800156F8 46200620 */   cvt.s.d $f24, $f0

/* 0162FC 800156FC 00121080 */  sll   $v0, $s2, 2
/* 016300 80015700 3C018004 */  lui   $at, %hi(D_8003FF60)
/* 016304 80015704 00220821 */  addu  $at, $at, $v0
/* 016308 80015708 C422FF60 */  lwc1  $f2, %lo(D_8003FF60)($at)
/* 01630C 8001570C 46020082 */  mul.s $f2, $f0, $f2
/* 016310 80015710 3C014F00 */  li    $at, 0x4F000000 # 2147483648.000000
/* 016314 80015714 44810000 */  mtc1  $at, $f0
/* 016318 80015718 00000000 */  nop   
/* 01631C 8001571C 4602003E */  c.le.s $f0, $f2
/* 016320 80015720 00000000 */  nop   
/* 016324 80015724 00000000 */  nop   
/* 016328 80015728 45030005 */  bc1tl  .L80015740
/* 01632C 8001572C 46001001 */   cop1  0x001001

/* 016330 80015730 4600100D */  trunc.w.s $f0, $f2
/* 016334 80015734 44030000 */  mfc1  $v1, $f0
/* 016338 80015738 080055D4 */  j     .L80015750
/* 01633C 8001573C 00000000 */   nop   

.L80015740:
/* 016340 80015740 4600008D */  trunc.w.s $f2, $f0
/* 016344 80015744 44031000 */  mfc1  $v1, $f2
/* 016348 80015748 3C028000 */  li    $v0, 0x80000000 # -0.000000
/* 01634C 8001574C 00621825 */  or    $v1, $v1, $v0

.L80015750:
/* 016350 80015750 3C048004 */  lui   $a0, %hi(D_8003FF4C)
/* 016354 80015754 00922021 */  addu  $a0, $a0, $s2
/* 016358 80015758 9084FF4C */  lbu   $a0, %lo(D_8003FF4C)($a0)
/* 01635C 8001575C 00608021 */  addu  $s0, $v1, $zero
/* 016360 80015760 320200FF */  andi  $v0, $s0, 0xff
/* 016364 80015764 0044102B */  sltu  $v0, $v0, $a0
/* 016368 80015768 54400001 */  bnezl $v0, .L80015770
/* 01636C 8001576C 00808021 */   addu  $s0, $a0, $zero

.L80015770:
/* 016370 80015770 0C0079BF */  jal   func_8001E6FC
/* 016374 80015774 00000000 */   nop   

/* 016378 80015778 00021400 */  sll   $v0, $v0, 0x10
/* 01637C 8001577C 00021403 */  sra   $v0, $v0, 0x10
/* 016380 80015780 24030004 */  li    $v1, 4
/* 016384 80015784 14430020 */  bne   $v0, $v1, .L80015808
/* 016388 80015788 00000000 */   nop   

/* 01638C 8001578C 3C01800A */  lui   $at, %hi(bssMain_8009D67C)
/* 016390 80015790 00310821 */  addu  $at, $at, $s1
/* 016394 80015794 C420D67C */  lwc1  $f0, %lo(bssMain_8009D67C)($at)
/* 016398 80015798 46000021 */  cvt.d.s $f0, $f0
/* 01639C 8001579C 4620D03E */  c.le.d $f26, $f0
/* 0163A0 800157A0 00000000 */  nop   
/* 0163A4 800157A4 45000018 */  bc1f  .L80015808
/* 0163A8 800157A8 00000000 */   nop

/* 0163AC 800157AC 3C01800A */  lui   $at, %hi(bssMain_8009D674)
/* 0163B0 800157B0 00310821 */  addu  $at, $at, $s1
/* 0163B4 800157B4 0C001125 */  jal   func_80004494
/* 0163B8 800157B8 C42CD674 */   lwc1  $f12, %lo(bssMain_8009D674)($at)

/* 0163BC 800157BC 3C018005 */  lui   $at, %hi(D_8004AB30)
/* 0163C0 800157C0 D422AB30 */  ldc1  $f2, %lo(D_8004AB30)($at)
/* 0163C4 800157C4 46000021 */  cvt.d.s $f0, $f0
/* 0163C8 800157C8 4622003C */  c.lt.d $f0, $f2
/* 0163CC 800157CC 00000000 */  nop   
/* 0163D0 800157D0 4500000D */  bc1f  .L80015808
/* 0163D4 800157D4 00000000 */   nop

/* 0163D8 800157D8 3C0141A0 */  li    $at, 0x41A00000 # 20.000000
/* 0163DC 800157DC 44810000 */  mtc1  $at, $f0
/* 0163E0 800157E0 00000000 */  nop   
/* 0163E4 800157E4 4600B001 */  sub.s $f0, $f22, $f0
/* 0163E8 800157E8 3C01800A */  lui   $at, %hi(bssMain_8009D678)
/* 0163EC 800157EC 00310821 */  addu  $at, $at, $s1
/* 0163F0 800157F0 C422D678 */  lwc1  $f2, %lo(bssMain_8009D678)($at)
/* 0163F4 800157F4 4602003E */  c.le.s $f0, $f2
/* 0163F8 800157F8 00000000 */  nop   
/* 0163FC 800157FC 00000000 */  nop   
/* 016400 80015800 45010025 */  bc1t  .L80015898
/* 016404 80015804 4600B506 */   cop1  0x00B506

.L80015808:
/* 016408 80015808 3C01800A */  lui   $at, %hi(bssMain_8009D674)
/* 01640C 8001580C 00310821 */  addu  $at, $at, $s1
/* 016410 80015810 C42CD674 */  lwc1  $f12, %lo(bssMain_8009D674)($at)
/* 016414 80015814 3C01800A */  lui   $at, %hi(bssMain_8009D67C)
/* 016418 80015818 00310821 */  addu  $at, $at, $s1
/* 01641C 8001581C 0C001125 */  jal   func_80004494
/* 016420 80015820 C434D67C */   lwc1  $f20, %lo(bssMain_8009D67C)($at)

/* 016424 80015824 46000021 */  cvt.d.s $f0, $f0
/* 016428 80015828 463A003C */  c.lt.d $f0, $f26
/* 01642C 8001582C 00000000 */  nop   
/* 016430 80015830 00000000 */  nop   
/* 016434 80015834 4500000A */  bc1f  .L80015860
/* 016438 80015838 00001021 */   addu  $v0, $zero, $zero

/* 01643C 8001583C 0C001125 */  jal   func_80004494
/* 016440 80015840 4600A306 */   mov.s $f12, $f20

/* 016444 80015844 46000021 */  cvt.d.s $f0, $f0
/* 016448 80015848 463A003C */  c.lt.d $f0, $f26
/* 01644C 8001584C 00000000 */  nop   
/* 016450 80015850 00000000 */  nop   
/* 016454 80015854 45010002 */  bc1t  .L80015860
/* 016458 80015858 24020001 */   li    $v0, 1

/* 01645C 8001585C 00001021 */  addu  $v0, $zero, $zero

.L80015860:
/* 016460 80015860 1040000D */  beqz  $v0, .L80015898
/* 016464 80015864 4600E506 */   mov.s $f20, $f28

/* 016468 80015868 3C0141A0 */  li    $at, 0x41A00000 # 20.000000
/* 01646C 8001586C 44810000 */  mtc1  $at, $f0
/* 016470 80015870 00000000 */  nop   
/* 016474 80015874 4600B001 */  sub.s $f0, $f22, $f0
/* 016478 80015878 3C01800A */  lui   $at, %hi(bssMain_8009D678)
/* 01647C 8001587C 00310821 */  addu  $at, $at, $s1
/* 016480 80015880 C422D678 */  lwc1  $f2, %lo(bssMain_8009D678)($at)
/* 016484 80015884 4602003E */  c.le.s $f0, $f2
/* 016488 80015888 00000000 */  nop   
/* 01648C 8001588C 00000000 */  nop   
/* 016490 80015890 45030001 */  bc1tl  .L80015898
/* 016494 80015894 4600B506 */   cop1  0x00B506

.L80015898:
/* 016498 80015898 92630018 */  lbu   $v1, 0x18($s3)
/* 01649C 8001589C 320200FF */  andi  $v0, $s0, 0xff
/* 0164A0 800158A0 3C018005 */  lui   $at, %hi(D_8004AB38)
/* 0164A4 800158A4 D424AB38 */  ldc1  $f4, %lo(D_8004AB38)($at)
/* 0164A8 800158A8 44821000 */  mtc1  $v0, $f2
/* 0164AC 800158AC 00000000 */  nop   
/* 0164B0 800158B0 468010A0 */  cvt.s.w $f2, $f2
/* 0164B4 800158B4 460010A1 */  cvt.d.s $f2, $f2
/* 0164B8 800158B8 46241082 */  mul.d $f2, $f2, $f4
/* 0164BC 800158BC A2830018 */  sb    $v1, 0x18($s4)
/* 0164C0 800158C0 3C028004 */  lui   $v0, %hi(D_8003FF4C)
/* 0164C4 800158C4 00521021 */  addu  $v0, $v0, $s2
/* 0164C8 800158C8 9042FF4C */  lbu   $v0, %lo(D_8003FF4C)($v0)
/* 0164CC 800158CC 44820000 */  mtc1  $v0, $f0
/* 0164D0 800158D0 00000000 */  nop   
/* 0164D4 800158D4 46800020 */  cvt.s.w $f0, $f0
/* 0164D8 800158D8 46000021 */  cvt.d.s $f0, $f0
/* 0164DC 800158DC 46240002 */  mul.d $f0, $f0, $f4
/* 0164E0 800158E0 3C063F80 */  lui   $a2, 0x3f80
/* 0164E4 800158E4 462010A0 */  cvt.s.d $f2, $f2
/* 0164E8 800158E8 44051000 */  mfc1  $a1, $f2
/* 0164EC 800158EC 46200020 */  cvt.s.d $f0, $f0
/* 0164F0 800158F0 44070000 */  mfc1  $a3, $f0
/* 0164F4 800158F4 00000000 */  nop   
/* 0164F8 800158F8 0C00D130 */  jal   guScaleF
/* 0164FC 800158FC 27A40018 */   addiu $a0, $sp, 0x18

/* 016500 80015900 27B00058 */  addiu $s0, $sp, 0x58
/* 016504 80015904 4405C000 */  mfc1  $a1, $f24
/* 016508 80015908 00000000 */  nop   
/* 01650C 8001590C 0C004339 */  jal   func_80010CE4
/* 016510 80015910 02002021 */   addu  $a0, $s0, $zero

/* 016514 80015914 27A40018 */  addiu $a0, $sp, 0x18
/* 016518 80015918 02002821 */  addu  $a1, $s0, $zero
/* 01651C 8001591C 2690001C */  addiu $s0, $s4, 0x1c
/* 016520 80015920 0C000842 */  jal   func_80002108
/* 016524 80015924 02003021 */   addu  $a2, $s0, $zero

/* 016528 80015928 3C01800A */  lui   $at, %hi(bssMain_8009D674)
/* 01652C 8001592C 00310821 */  addu  $at, $at, $s1
/* 016530 80015930 C420D674 */  lwc1  $f0, %lo(bssMain_8009D674)($at)
/* 016534 80015934 3C07800A */  lui   $a3, %hi(bssMain_8009D67C)
/* 016538 80015938 00F13821 */  addu  $a3, $a3, $s1
/* 01653C 8001593C 8CE7D67C */  lw    $a3, %lo(bssMain_8009D67C)($a3)
/* 016540 80015940 46000007 */  neg.s $f0, $f0
/* 016544 80015944 4406A000 */  mfc1  $a2, $f20
/* 016548 80015948 44050000 */  mfc1  $a1, $f0
/* 01654C 8001594C 00000000 */  nop   
/* 016550 80015950 0C004335 */  jal   func_80010CD4
/* 016554 80015954 02002021 */   addu  $a0, $s0, $zero

.L80015958:
/* 016558 80015958 2631007C */  addiu $s1, $s1, 0x7c
/* 01655C 8001595C 267300DC */  addiu $s3, $s3, 0xdc
/* 016560 80015960 26520001 */  addiu $s2, $s2, 1
/* 016564 80015964 2E420014 */  sltiu $v0, $s2, 0x14
/* 016568 80015968 1440FF08 */  bnez  $v0, .L8001558C
/* 01656C 8001596C 269400DC */   addiu $s4, $s4, 0xdc

/* 016570 80015970 8FBF00B8 */  lw    $ra, 0xb8($sp)
/* 016574 80015974 8FB500B4 */  lw    $s5, 0xb4($sp)
/* 016578 80015978 8FB400B0 */  lw    $s4, 0xb0($sp)
/* 01657C 8001597C 8FB300AC */  lw    $s3, 0xac($sp)
/* 016580 80015980 8FB200A8 */  lw    $s2, 0xa8($sp)
/* 016584 80015984 8FB100A4 */  lw    $s1, 0xa4($sp)
/* 016588 80015988 8FB000A0 */  lw    $s0, 0xa0($sp)
/* 01658C 8001598C D7BC00E0 */  ldc1  $f28, 0xe0($sp)
/* 016590 80015990 D7BA00D8 */  ldc1  $f26, 0xd8($sp)
/* 016594 80015994 D7B800D0 */  ldc1  $f24, 0xd0($sp)
/* 016598 80015998 D7B600C8 */  ldc1  $f22, 0xc8($sp)
/* 01659C 8001599C D7B400C0 */  ldc1  $f20, 0xc0($sp)
/* 0165A0 800159A0 03E00008 */  jr    $ra
/* 0165A4 800159A4 27BD00E8 */   addiu $sp, $sp, 0xe8
