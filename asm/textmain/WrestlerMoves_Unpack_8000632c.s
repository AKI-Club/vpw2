# unpacks wrestler moveset?

glabel WrestlerMoves_Unpack
/* 006F2C 8000632C 27BDFFC0 */  addiu $sp, $sp, -0x40
/* 006F30 80006330 AFB70034 */  sw    $s7, 0x34($sp)
/* 006F34 80006334 0080B821 */  addu  $s7, $a0, $zero
/* 006F38 80006338 AFB30024 */  sw    $s3, 0x24($sp)
/* 006F3C 8000633C 00A09821 */  addu  $s3, $a1, $zero
/* 006F40 80006340 AFB00018 */  sw    $s0, 0x18($sp)
/* 006F44 80006344 00C08021 */  addu  $s0, $a2, $zero
/* 006F48 80006348 00004021 */  addu  $t0, $zero, $zero
/* 006F4C 8000634C AFBF0038 */  sw    $ra, 0x38($sp)
/* 006F50 80006350 AFB60030 */  sw    $s6, 0x30($sp)
/* 006F54 80006354 AFB5002C */  sw    $s5, 0x2c($sp)
/* 006F58 80006358 AFB40028 */  sw    $s4, 0x28($sp)
/* 006F5C 8000635C AFB20020 */  sw    $s2, 0x20($sp)
/* 006F60 80006360 AFB1001C */  sw    $s1, 0x1c($sp)

.L80006364:
/* 006F64 80006364 00081400 */  sll   $v0, $t0, 0x10
/* 006F68 80006368 25040001 */  addiu $a0, $t0, 1
/* 006F6C 8000636C 00804021 */  addu  $t0, $a0, $zero
/* 006F70 80006370 00021403 */  sra   $v0, $v0, 0x10
/* 006F74 80006374 00021840 */  sll   $v1, $v0, 1
/* 006F78 80006378 00621821 */  addu  $v1, $v1, $v0
/* 006F7C 8000637C 00031840 */  sll   $v1, $v1, 1
/* 006F80 80006380 00731821 */  addu  $v1, $v1, $s3
/* 006F84 80006384 00042400 */  sll   $a0, $a0, 0x10
/* 006F88 80006388 00042403 */  sra   $a0, $a0, 0x10
/* 006F8C 8000638C 28840124 */  slti  $a0, $a0, 0x124
/* 006F90 80006390 A4600000 */  sh    $zero, ($v1)
/* 006F94 80006394 A0600002 */  sb    $zero, 2($v1)
/* 006F98 80006398 A0600003 */  sb    $zero, 3($v1)
/* 006F9C 8000639C 1480FFF1 */  bnez  $a0, .L80006364
/* 006FA0 800063A0 A0600004 */   sb    $zero, 4($v1)

# UnpackBits(0,0,0);
/* 006FA4 800063A4 00002021 */  addu  $a0, $zero, $zero
/* 006FA8 800063A8 00002821 */  addu  $a1, $zero, $zero
/* 006FAC 800063AC 0C0013D9 */  jal   UnpackBits
/* 006FB0 800063B0 00003021 */   addu  $a2, $zero, $zero

/* 006FB4 800063B4 86020000 */  lh    $v0, ($s0)
/* 006FB8 800063B8 00021080 */  sll   $v0, $v0, 2
/* 006FBC 800063BC 3C118004 */  lui   $s1, %hi(ptr_8003D924)
/* 006FC0 800063C0 02228821 */  addu  $s1, $s1, $v0
/* 006FC4 800063C4 8E31D924 */  lw    $s1, %lo(ptr_8003D924)($s1)
/* 006FC8 800063C8 86230000 */  lh    $v1, ($s1)
/* 006FCC 800063CC 2402FFFF */  li    $v0, -1
/* 006FD0 800063D0 10620082 */  beq   $v1, $v0, .L800065DC # exit routine
/* 006FD4 800063D4 00009021 */   addu  $s2, $zero, $zero

/* 006FD8 800063D8 3C168004 */  lui   $s6, %hi(tbl_8003D930) # $s6, 0x8004
/* 006FDC 800063DC 26D6D930 */  addiu $s6, %lo(tbl_8003D930) # addiu $s6, $s6, -0x26d0
/* 006FE0 800063E0 24140000 */  li    $s4, 0
/* 006FE4 800063E4 24150001 */  li    $s5, 1

# loop {
.L800063E8:
/* 006FE8 800063E8 00004021 */  addu  $t0, $zero, $zero
/* 006FEC 800063EC 00081400 */  sll   $v0, $t0, 0x10

.L800063F0:
/* 006FF0 800063F0 000213C3 */  sra   $v0, $v0, 0xf
/* 006FF4 800063F4 00511021 */  addu  $v0, $v0, $s1
/* 006FF8 800063F8 84420002 */  lh    $v0, 2($v0)
/* 006FFC 800063FC 00021040 */  sll   $v0, $v0, 1
/* 007000 80006400 00561021 */  addu  $v0, $v0, $s6
/* 007004 80006404 84430000 */  lh    $v1, ($v0) # load "num bits" value from table
/* 007008 80006408 00121400 */  sll   $v0, $s2, 0x10
/* 00700C 8000640C 00021403 */  sra   $v0, $v0, 0x10
/* 007010 80006410 0043102A */  slt   $v0, $v0, $v1
/* 007014 80006414 10400002 */  beqz  $v0, .L80006420
/* 007018 80006418 00602021 */   addu  $a0, $v1, $zero

# save highest seen "num bits" value
/* 00701C 8000641C 00809021 */  addu  $s2, $a0, $zero

.L80006420:
/* 007020 80006420 25020001 */  addiu $v0, $t0, 1
/* 007024 80006424 00404021 */  addu  $t0, $v0, $zero
/* 007028 80006428 00021400 */  sll   $v0, $v0, 0x10
/* 00702C 8000642C 00021403 */  sra   $v0, $v0, 0x10
/* 007030 80006430 28420004 */  slti  $v0, $v0, 4
/* 007034 80006434 1440FFEE */  bnez  $v0, .L800063F0
/* 007038 80006438 00081400 */   sll   $v0, $t0, 0x10

/* 00703C 8000643C 02E02021 */  addu  $a0, $s7, $zero
/* 007040 80006440 00121400 */  sll   $v0, $s2, 0x10
/* 007044 80006444 00028403 */  sra   $s0, $v0, 0x10
/* 007048 80006448 26050005 */  addiu $a1, $s0, 5
/* 00704C 8000644C 0C0013D9 */  jal   UnpackBits
/* 007050 80006450 24060001 */   li    $a2, 1

/* 007054 80006454 00003021 */  addu  $a2, $zero, $zero
/* 007058 80006458 00003821 */  addu  $a3, $zero, $zero
/* 00705C 8000645C 00004021 */  addu  $t0, $zero, $zero
/* 007060 80006460 00405021 */  addu  $t2, $v0, $zero
/* 007064 80006464 1A00000E */  blez  $s0, .L800064A0
/* 007068 80006468 00605821 */   addu  $t3, $v1, $zero

/* 00706C 8000646C 02002821 */  addu  $a1, $s0, $zero

.L80006470:
/* 007070 80006470 00063040 */  sll   $a2, $a2, 1
/* 007074 80006474 000717C2 */  srl   $v0, $a3, 0x1f
/* 007078 80006478 00C23025 */  or    $a2, $a2, $v0
/* 00707C 8000647C 00073840 */  sll   $a3, $a3, 1
/* 007080 80006480 00D43025 */  or    $a2, $a2, $s4
/* 007084 80006484 25020001 */  addiu $v0, $t0, 1
/* 007088 80006488 00404021 */  addu  $t0, $v0, $zero
/* 00708C 8000648C 00021400 */  sll   $v0, $v0, 0x10
/* 007090 80006490 00021403 */  sra   $v0, $v0, 0x10
/* 007094 80006494 0045102A */  slt   $v0, $v0, $a1
/* 007098 80006498 1440FFF5 */  bnez  $v0, .L80006470
/* 00709C 8000649C 00F53825 */   or    $a3, $a3, $s5

.L800064A0:
/* 0070A0 800064A0 00122C00 */  sll   $a1, $s2, 0x10
/* 0070A4 800064A4 00052C03 */  sra   $a1, $a1, 0x10
/* 0070A8 800064A8 00052680 */  sll   $a0, $a1, 0x1a
/* 0070AC 800064AC 04810004 */  bgez  $a0, .L800064C0
/* 0070B0 800064B0 00000000 */   nop   

/* 0070B4 800064B4 00AA1806 */  srlv  $v1, $t2, $a1
/* 0070B8 800064B8 10000007 */  b     .L800064D8
/* 0070BC 800064BC 00001021 */   addu  $v0, $zero, $zero

.L800064C0:
/* 0070C0 800064C0 10800004 */  beqz  $a0, .L800064D4
/* 0070C4 800064C4 00AB1806 */   srlv  $v1, $t3, $a1

/* 0070C8 800064C8 00052023 */  negu  $a0, $a1
/* 0070CC 800064CC 008A2004 */  sllv  $a0, $t2, $a0
/* 0070D0 800064D0 00641825 */  or    $v1, $v1, $a0

.L800064D4:
/* 0070D4 800064D4 00AA1006 */  srlv  $v0, $t2, $a1

.L800064D8:
/* 0070D8 800064D8 30620003 */  andi  $v0, $v1, 3
/* 0070DC 800064DC 00021040 */  sll   $v0, $v0, 1
/* 0070E0 800064E0 00511021 */  addu  $v0, $v0, $s1
/* 0070E4 800064E4 84430002 */  lh    $v1, 2($v0)
/* 0070E8 800064E8 01671024 */  and   $v0, $t3, $a3
/* 0070EC 800064EC 00021400 */  sll   $v0, $v0, 0x10
/* 0070F0 800064F0 000213C3 */  sra   $v0, $v0, 0xf
/* 0070F4 800064F4 00031880 */  sll   $v1, $v1, 2
/* 0070F8 800064F8 3C048004 */  lui   $a0, %hi(ptrTbl_MasterMoveMods)
/* 0070FC 800064FC 00832021 */  addu  $a0, $a0, $v1
/* 007100 80006500 8C84EA8C */  lw    $a0, %lo(ptrTbl_MasterMoveMods)($a0)
/* 007104 80006504 24A50002 */  addiu $a1, $a1, 2
/* 007108 80006508 86230000 */  lh    $v1, ($s1)
/* 00710C 8000650C 00441021 */  addu  $v0, $v0, $a0
/* 007110 80006510 94440000 */  lhu   $a0, ($v0)
/* 007114 80006514 00031040 */  sll   $v0, $v1, 1
/* 007118 80006518 00431021 */  addu  $v0, $v0, $v1
/* 00711C 8000651C 00021040 */  sll   $v0, $v0, 1
/* 007120 80006520 00531021 */  addu  $v0, $v0, $s3
/* 007124 80006524 A4440000 */  sh    $a0, ($v0)
/* 007128 80006528 00052680 */  sll   $a0, $a1, 0x1a
/* 00712C 8000652C 04810004 */  bgez  $a0, .L80006540
/* 007130 80006530 00000000 */   nop   

/* 007134 80006534 00AA1806 */  srlv  $v1, $t2, $a1
/* 007138 80006538 10000007 */  b     .L80006558
/* 00713C 8000653C 00001021 */   addu  $v0, $zero, $zero

.L80006540:
/* 007140 80006540 10800004 */  beqz  $a0, .L80006554
/* 007144 80006544 00AB1806 */   srlv  $v1, $t3, $a1

/* 007148 80006548 00052023 */  negu  $a0, $a1
/* 00714C 8000654C 008A2004 */  sllv  $a0, $t2, $a0
/* 007150 80006550 00641825 */  or    $v1, $v1, $a0

.L80006554:
/* 007154 80006554 00AA1006 */  srlv  $v0, $t2, $a1

.L80006558:
/* 007158 80006558 00602021 */  addu  $a0, $v1, $zero
/* 00715C 8000655C 30820001 */  andi  $v0, $a0, 1
/* 007160 80006560 10400008 */  beqz  $v0, .L80006584
/* 007164 80006564 30820002 */   andi  $v0, $a0, 2

/* 007168 80006568 86230000 */  lh    $v1, ($s1)
/* 00716C 8000656C 00031040 */  sll   $v0, $v1, 1
/* 007170 80006570 00431021 */  addu  $v0, $v0, $v1
/* 007174 80006574 00021040 */  sll   $v0, $v0, 1
/* 007178 80006578 00531021 */  addu  $v0, $v0, $s3
/* 00717C 8000657C A0550002 */  sb    $s5, 2($v0)
/* 007180 80006580 30820002 */  andi  $v0, $a0, 2

.L80006584:
/* 007184 80006584 10400008 */  beqz  $v0, .L800065A8
/* 007188 80006588 30820004 */   andi  $v0, $a0, 4

/* 00718C 8000658C 86230000 */  lh    $v1, ($s1)
/* 007190 80006590 00031040 */  sll   $v0, $v1, 1
/* 007194 80006594 00431021 */  addu  $v0, $v0, $v1
/* 007198 80006598 00021040 */  sll   $v0, $v0, 1
/* 00719C 8000659C 00531021 */  addu  $v0, $v0, $s3
/* 0071A0 800065A0 A0550003 */  sb    $s5, 3($v0)
/* 0071A4 800065A4 30820004 */  andi  $v0, $a0, 4

.L800065A8:
/* 0071A8 800065A8 50400008 */  beql  $v0, $zero, .L800065CC
/* 0071AC 800065AC 2631000A */   addiu $s1, $s1, 0xa

/* 0071B0 800065B0 86230000 */  lh    $v1, ($s1)
/* 0071B4 800065B4 00031040 */  sll   $v0, $v1, 1
/* 0071B8 800065B8 00431021 */  addu  $v0, $v0, $v1
/* 0071BC 800065BC 00021040 */  sll   $v0, $v0, 1
/* 0071C0 800065C0 00531021 */  addu  $v0, $v0, $s3
/* 0071C4 800065C4 A0550004 */  sb    $s5, 4($v0)
/* 0071C8 800065C8 2631000A */  addiu $s1, $s1, 0xa

.L800065CC:
/* 0071CC 800065CC 86230000 */  lh    $v1, ($s1)
/* 0071D0 800065D0 2402FFFF */  li    $v0, -1
/* 0071D4 800065D4 1462FF84 */  bne   $v1, $v0, .L800063E8
/* 0071D8 800065D8 00009021 */   addu  $s2, $zero, $zero
# } end loop

.L800065DC:
/* 0071DC 800065DC 8FBF0038 */  lw    $ra, 0x38($sp)
/* 0071E0 800065E0 8FB70034 */  lw    $s7, 0x34($sp)
/* 0071E4 800065E4 8FB60030 */  lw    $s6, 0x30($sp)
/* 0071E8 800065E8 8FB5002C */  lw    $s5, 0x2c($sp)
/* 0071EC 800065EC 8FB40028 */  lw    $s4, 0x28($sp)
/* 0071F0 800065F0 8FB30024 */  lw    $s3, 0x24($sp)
/* 0071F4 800065F4 8FB20020 */  lw    $s2, 0x20($sp)
/* 0071F8 800065F8 8FB1001C */  lw    $s1, 0x1c($sp)
/* 0071FC 800065FC 8FB00018 */  lw    $s0, 0x18($sp)
/* 007200 80006600 03E00008 */  jr    $ra
/* 007204 80006604 27BD0040 */   addiu $sp, $sp, 0x40
