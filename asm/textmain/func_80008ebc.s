# related to global text loading?

# Params:
# $a0 - load address?
# $a1 - flags??

glabel func_80008EBC
/* 009ABC 80008EBC 27BDFF90 */  addiu $sp, $sp, -0x70
/* 009AC0 80008EC0 AFB40060 */  sw    $s4, 0x60($sp)
/* 009AC4 80008EC4 0080A021 */  addu  $s4, $a0, $zero # a0 in s4
/* 009AC8 80008EC8 02803821 */  addu  $a3, $s4, $zero
/* 009ACC 80008ECC AFB50064 */  sw    $s5, 0x64($sp)
/* 009AD0 80008ED0 00A0A821 */  addu  $s5, $a1, $zero # a1 in s5
/* 009AD4 80008ED4 32A8FFFF */  andi  $t0, $s5, 0xffff
/* 009AD8 80008ED8 27A60030 */  addiu $a2, $sp, 0x30
/* 009ADC 80008EDC 3C024000 */  lui   $v0, 0x4000
/* 009AE0 80008EE0 02821024 */  and   $v0, $s4, $v0
/* 009AE4 80008EE4 AFBF006C */  sw    $ra, 0x6c($sp)
/* 009AE8 80008EE8 AFB60068 */  sw    $s6, 0x68($sp)
/* 009AEC 80008EEC AFB3005C */  sw    $s3, 0x5c($sp)
/* 009AF0 80008EF0 AFB20058 */  sw    $s2, 0x58($sp)
/* 009AF4 80008EF4 AFB10054 */  sw    $s1, 0x54($sp)
/* 009AF8 80008EF8 AFB00050 */  sw    $s0, 0x50($sp)
/* 009AFC 80008EFC AFB40030 */  sw    $s4, 0x30($sp)
/* 009B00 80008F00 A7A00044 */  sh    $zero, 0x44($sp)
/* 009B04 80008F04 14400013 */  bnez  $v0, .L80008F54
/* 009B08 80008F08 AFA00048 */   sw    $zero, 0x48($sp)

/* 009B0C 80008F0C 92820000 */  lbu   $v0, ($s4)
/* 009B10 80008F10 10400011 */  beqz  $v0, .L80008F58
/* 009B14 80008F14 00002821 */   addu  $a1, $zero, $zero

.L80008F18:
/* 009B18 80008F18 90E40000 */  lbu   $a0, ($a3)
/* 009B1C 80008F1C 94C50014 */  lhu   $a1, 0x14($a2)
/* 009B20 80008F20 94C20014 */  lhu   $v0, 0x14($a2)
/* 009B24 80008F24 24E70001 */  addiu $a3, $a3, 1
/* 009B28 80008F28 8CC30018 */  lw    $v1, 0x18($a2)
/* 009B2C 80008F2C 24A50001 */  addiu $a1, $a1, 1
/* 009B30 80008F30 00821021 */  addu  $v0, $a0, $v0
/* 009B34 80008F34 3042000F */  andi  $v0, $v0, 0xf
/* 009B38 80008F38 00442004 */  sllv  $a0, $a0, $v0
/* 009B3C 80008F3C 00641821 */  addu  $v1, $v1, $a0
/* 009B40 80008F40 ACC30018 */  sw    $v1, 0x18($a2)
/* 009B44 80008F44 A4C50014 */  sh    $a1, 0x14($a2)
/* 009B48 80008F48 90E20000 */  lbu   $v0, ($a3)
/* 009B4C 80008F4C 1440FFF2 */  bnez  $v0, .L80008F18
/* 009B50 80008F50 00000000 */   nop   

.L80008F54:
/* 009B54 80008F54 00002821 */  addu  $a1, $zero, $zero

.L80008F58:
/* 009B58 80008F58 3C048009 */  lui   $a0, %hi(bssMain_800928F8) # $a0, 0x8009
/* 009B5C 80008F5C 8C8428F8 */  lw    $a0, %lo(bssMain_800928F8)($a0)
/* 009B60 80008F60 8FA70048 */  lw    $a3, 0x48($sp)
/* 009B64 80008F64 97A60044 */  lhu   $a2, 0x44($sp)
/* 009B68 80008F68 24830014 */  addiu $v1, $a0, 0x14

.L80008F6C:
/* 009B6C 80008F6C 8C820000 */  lw    $v0, ($a0)
/* 009B70 80008F70 5454000A */  bnel  $v0, $s4, .L80008F9C
/* 009B74 80008F74 24A50001 */   addiu $a1, $a1, 1

/* 009B78 80008F78 9462FFFE */  lhu   $v0, -2($v1)
/* 009B7C 80008F7C 14480007 */  bne   $v0, $t0, .L80008F9C
/* 009B80 80008F80 24A50001 */   addiu $a1, $a1, 1

/* 009B84 80008F84 8C620004 */  lw    $v0, 4($v1)
/* 009B88 80008F88 14470004 */  bne   $v0, $a3, .L80008F9C
/* 009B8C 80008F8C 00000000 */   nop   

/* 009B90 80008F90 94620000 */  lhu   $v0, ($v1)
/* 009B94 80008F94 1046000F */  beq   $v0, $a2, .L80008FD4
/* 009B98 80008F98 00808821 */   addu  $s1, $a0, $zero

.L80008F9C:
/* 009B9C 80008F9C 2463001C */  addiu $v1, $v1, 0x1c
/* 009BA0 80008FA0 28A20080 */  slti  $v0, $a1, 0x80
/* 009BA4 80008FA4 1440FFF1 */  bnez  $v0, .L80008F6C
/* 009BA8 80008FA8 2484001C */   addiu $a0, $a0, 0x1c

/* 009BAC 80008FAC 00002821 */  addu  $a1, $zero, $zero
/* 009BB0 80008FB0 3C048009 */  lui   $a0, %hi(bssMain_800928F8) # $a0, 0x8009
/* 009BB4 80008FB4 8C8428F8 */  lw    $a0, %lo(bssMain_800928F8)($a0)

.L80008FB8:
/* 009BB8 80008FB8 8C820000 */  lw    $v0, ($a0)
/* 009BBC 80008FBC 10400009 */  beqz  $v0, .L80008FE4
/* 009BC0 80008FC0 24A50001 */   addiu $a1, $a1, 1

/* 009BC4 80008FC4 28A20080 */  slti  $v0, $a1, 0x80
/* 009BC8 80008FC8 1440FFFB */  bnez  $v0, .L80008FB8
/* 009BCC 80008FCC 2484001C */   addiu $a0, $a0, 0x1c

/* 009BD0 80008FD0 00008821 */  addu  $s1, $zero, $zero

.L80008FD4:
/* 009BD4 80008FD4 16200009 */  bnez  $s1, .L80008FFC
/* 009BD8 80008FD8 00001021 */   addu  $v0, $zero, $zero

/* 009BDC 80008FDC 08002494 */  j     .L80009250
/* 009BE0 80008FE0 00000000 */   nop   

.L80008FE4:
/* 009BE4 80008FE4 97A20044 */  lhu   $v0, 0x44($sp)
/* 009BE8 80008FE8 A4820014 */  sh    $v0, 0x14($a0)
/* 009BEC 80008FEC 8FA20048 */  lw    $v0, 0x48($sp)
/* 009BF0 80008FF0 00808821 */  addu  $s1, $a0, $zero
/* 009BF4 80008FF4 080023F5 */  j     .L80008FD4
/* 009BF8 80008FF8 AE220018 */   sw    $v0, 0x18($s1)

.L80008FFC:
/* 009BFC 80008FFC 8E220000 */  lw    $v0, ($s1)
/* 009C00 80009000 14400093 */  bnez  $v0, .L80009250
/* 009C04 80009004 02201021 */   addu  $v0, $s1, $zero

/* 009C08 80009008 3C024000 */  lui   $v0, 0x4000
/* 009C0C 8000900C 02821024 */  and   $v0, $s4, $v0
/* 009C10 80009010 10400009 */  beqz  $v0, .L80009038
/* 009C14 80009014 27A40010 */   addiu $a0, $sp, 0x10

/* 009C18 80009018 AE240000 */  sw    $a0, ($s1)
/* 009C1C 8000901C 3C05003F */  lui   $a1, (0x003FFFFF >> 16) # lui $a1, 0x3f
/* 009C20 80009020 34A5FFFF */  ori   $a1, (0x003FFFFF & 0xFFFF) # ori $a1, $a1, 0xffff
/* 009C24 80009024 02852824 */  and   $a1, $s4, $a1
/* 009C28 80009028 0C002109 */  jal   func_80008424
/* 009C2C 8000902C 32A6FFFF */   andi  $a2, $s5, 0xffff

/* 009C30 80009030 08002410 */  j     .L80009040
/* 009C34 80009034 32A30030 */   andi  $v1, $s5, 0x30

.L80009038:
/* 009C38 80009038 AE340000 */  sw    $s4, ($s1)
/* 009C3C 8000903C 32A30030 */  andi  $v1, $s5, 0x30

.L80009040:
/* 009C40 80009040 24020020 */  li    $v0, 32
/* 009C44 80009044 10620010 */  beq   $v1, $v0, .L80009088
/* 009C48 80009048 28620021 */   slti  $v0, $v1, 0x21

/* 009C4C 8000904C 10400005 */  beqz  $v0, .L80009064
/* 009C50 80009050 24020010 */   li    $v0, 16

/* 009C54 80009054 10620008 */  beq   $v1, $v0, .L80009078
/* 009C58 80009058 24020008 */   li    $v0, 8

/* 009C5C 8000905C 0800242B */  j     .L800090AC
/* 009C60 80009060 00000000 */   nop   

.L80009064:
/* 009C64 80009064 24020030 */  li    $v0, 48
/* 009C68 80009068 1062000C */  beq   $v1, $v0, .L8000909C
/* 009C6C 8000906C 24020001 */   li    $v0, 1

/* 009C70 80009070 0800242B */  j     .L800090AC
/* 009C74 80009074 00000000 */   nop   

.L80009078:
/* 009C78 80009078 3C018007 */  lui   $at, %hi(bssMain_8006FD04) # $at, 0x8007
/* 009C7C 8000907C AC22FD04 */  sw    $v0, %lo(bssMain_8006FD04)($at)
/* 009C80 80009080 0800242E */  j     .L800090B8
/* 009C84 80009084 02202021 */   addu  $a0, $s1, $zero

.L80009088:
/* 009C88 80009088 24020002 */  li    $v0, 2
/* 009C8C 8000908C 3C018007 */  lui   $at, %hi(bssMain_8006FD04) # $at, 0x8007
/* 009C90 80009090 AC22FD04 */  sw    $v0, %lo(bssMain_8006FD04)($at)
/* 009C94 80009094 0800242E */  j     .L800090B8
/* 009C98 80009098 02202021 */   addu  $a0, $s1, $zero

.L8000909C:
/* 009C9C 8000909C 3C018007 */  lui   $at, %hi(bssMain_8006FD04) # $at, 0x8007
/* 009CA0 800090A0 AC22FD04 */  sw    $v0, %lo(bssMain_8006FD04)($at)
/* 009CA4 800090A4 0800242E */  j     .L800090B8
/* 009CA8 800090A8 02202021 */   addu  $a0, $s1, $zero

.L800090AC:
/* 009CAC 800090AC 3C018007 */  lui   $at, %hi(bssMain_8006FD04) # $at, 0x8007
/* 009CB0 800090B0 AC20FD04 */  sw    $zero, %lo(bssMain_8006FD04)($at)
/* 009CB4 800090B4 02202021 */  addu  $a0, $s1, $zero

.L800090B8:
/* 009CB8 800090B8 32A5FFFF */  andi  $a1, $s5, 0xffff
/* 009CBC 800090BC 0C001E37 */  jal   func_800078DC
/* 009CC0 800090C0 A6350012 */   sh    $s5, 0x12($s1)

/* 009CC4 800090C4 8E360008 */  lw    $s6, 8($s1)
/* 009CC8 800090C8 32A20030 */  andi  $v0, $s5, 0x30
/* 009CCC 800090CC 1040000B */  beqz  $v0, .L800090FC
/* 009CD0 800090D0 00000000 */   nop   

/* 009CD4 800090D4 3C028007 */  lui   $v0, %hi(bssMain_8006FD04) # $v0, 0x8007
/* 009CD8 800090D8 8C42FD04 */  lw    $v0, %lo(bssMain_8006FD04)($v0)
/* 009CDC 800090DC 02C20018 */  mult  $s6, $v0
/* 009CE0 800090E0 00001012 */  mflo  $v0
/* 009CE4 800090E4 00000000 */  nop   
/* 009CE8 800090E8 00000000 */  nop   
/* 009CEC 800090EC 04420001 */  bltzl $v0, .L800090F4
/* 009CF0 800090F0 24420003 */   addiu $v0, $v0, 3

.L800090F4:
/* 009CF4 800090F4 00021083 */  sra   $v0, $v0, 2
/* 009CF8 800090F8 02C2B021 */  addu  $s6, $s6, $v0

.L800090FC:
/* 009CFC 800090FC 3C038004 */  lui   $v1, %hi(D_8003EFB0) # $v1, 0x8004
/* 009D00 80009100 8C63EFB0 */  lw    $v1, %lo(D_8003EFB0)($v1)
/* 009D04 80009104 10600005 */  beqz  $v1, .L8000911C
/* 009D08 80009108 00761821 */   addu  $v1, $v1, $s6

/* 009D0C 8000910C 24027FFF */  li    $v0, 32767
/* 009D10 80009110 0043102B */  sltu  $v0, $v0, $v1
/* 009D14 80009114 54400007 */  bnezl $v0, .L80009134
/* 009D18 80009118 AE200000 */   sw    $zero, ($s1)

.L8000911C:
/* 009D1C 8000911C 8E240008 */  lw    $a0, 8($s1)
/* 009D20 80009120 0C000226 */  jal   aki_malloc
/* 009D24 80009124 00000000 */   nop   

/* 009D28 80009128 14400004 */  bnez  $v0, .L8000913C
/* 009D2C 8000912C AE220004 */   sw    $v0, 4($s1)

/* 009D30 80009130 AE200000 */  sw    $zero, ($s1)

.L80009134:
/* 009D34 80009134 08002494 */  j     .L80009250
/* 009D38 80009138 00001021 */   addu  $v0, $zero, $zero

.L8000913C:
/* 009D3C 8000913C 8E240008 */  lw    $a0, 8($s1)
/* 009D40 80009140 32B00030 */  andi  $s0, $s5, 0x30
/* 009D44 80009144 12000004 */  beqz  $s0, .L80009158
/* 009D48 80009148 00009021 */   addu  $s2, $zero, $zero

/* 009D4C 8000914C 0C000226 */  jal   aki_malloc
/* 009D50 80009150 00000000 */   nop   

/* 009D54 80009154 00409021 */  addu  $s2, $v0, $zero

.L80009158:
/* 009D58 80009158 8E240004 */  lw    $a0, 4($s1)
/* 009D5C 8000915C 8E250008 */  lw    $a1, 8($s1)
/* 009D60 80009160 0C00C950 */  jal   bzero
/* 009D64 80009164 32B3FFFF */   andi  $s3, $s5, 0xffff

/* 009D68 80009168 02202021 */  addu  $a0, $s1, $zero
/* 009D6C 8000916C 0C001F51 */  jal   func_80007D44
/* 009D70 80009170 02602821 */   addu  $a1, $s3, $zero

/* 009D74 80009174 3C024000 */  lui   $v0, 0x4000
/* 009D78 80009178 02821024 */  and   $v0, $s4, $v0
/* 009D7C 8000917C 54400001 */  bnezl $v0, .L80009184
/* 009D80 80009180 AE340000 */   sw    $s4, ($s1)

.L80009184:
/* 009D84 80009184 32A20008 */  andi  $v0, $s5, 8
/* 009D88 80009188 10400003 */  beqz  $v0, .L80009198
/* 009D8C 8000918C 02202021 */   addu  $a0, $s1, $zero

/* 009D90 80009190 0C002282 */  jal   func_80008A08
/* 009D94 80009194 02602821 */   addu  $a1, $s3, $zero

.L80009198:
/* 009D98 80009198 12400027 */  beqz  $s2, .L80009238
/* 009D9C 8000919C 00000000 */   nop   

/* 009DA0 800091A0 12000023 */  beqz  $s0, .L80009230
/* 009DA4 800091A4 24020020 */   li    $v0, 32

/* 009DA8 800091A8 1202000C */  beq   $s0, $v0, .L800091DC
/* 009DAC 800091AC 2A020021 */   slti  $v0, $s0, 0x21

/* 009DB0 800091B0 10400005 */  beqz  $v0, .L800091C8
/* 009DB4 800091B4 24020010 */   li    $v0, 16

/* 009DB8 800091B8 52020014 */  beql  $s0, $v0, .L8000920C
/* 009DBC 800091BC 24100006 */   li    $s0, 6

/* 009DC0 800091C0 0800248A */  j     .L80009228
/* 009DC4 800091C4 00000000 */   nop   

.L800091C8:
/* 009DC8 800091C8 24020030 */  li    $v0, 48
/* 009DCC 800091CC 12020008 */  beq   $s0, $v0, .L800091F0
/* 009DD0 800091D0 00000000 */   nop   

/* 009DD4 800091D4 0800248A */  j     .L80009228
/* 009DD8 800091D8 00000000 */   nop   

.L800091DC:
/* 009DDC 800091DC 3C068007 */  lui   $a2, %hi(bssMain_8006FD02) # $a2, 0x8007
/* 009DE0 800091E0 90C6FD02 */  lbu   $a2, %lo(bssMain_8006FD02)($a2)
/* 009DE4 800091E4 02202021 */  addu  $a0, $s1, $zero
/* 009DE8 800091E8 0C002322 */  jal   func_80008C88
/* 009DEC 800091EC 02402821 */   addu  $a1, $s2, $zero

.L800091F0:
/* 009DF0 800091F0 3C068007 */  lui   $a2, %hi(bssMain_8006FD02) # $a2, 0x8007
/* 009DF4 800091F4 90C6FD02 */  lbu   $a2, %lo(bssMain_8006FD02)($a2)
/* 009DF8 800091F8 02202021 */  addu  $a0, $s1, $zero
/* 009DFC 800091FC 0C002322 */  jal   func_80008C88
/* 009E00 80009200 02402821 */   addu  $a1, $s2, $zero

/* 009E04 80009204 0800248A */  j     .L80009228
/* 009E08 80009208 00000000 */   nop   

.L8000920C:
/* 009E0C 8000920C 02202021 */  addu  $a0, $s1, $zero

.L80009210:
/* 009E10 80009210 02402821 */  addu  $a1, $s2, $zero
/* 009E14 80009214 0C002322 */  jal   func_80008C88
/* 009E18 80009218 320600FF */   andi  $a2, $s0, 0xff

/* 009E1C 8000921C 2610FFFF */  addiu $s0, $s0, -1
/* 009E20 80009220 1E00FFFB */  bgtz  $s0, .L80009210
/* 009E24 80009224 02202021 */   addu  $a0, $s1, $zero

.L80009228:
/* 009E28 80009228 12400003 */  beqz  $s2, .L80009238
/* 009E2C 8000922C 00000000 */   nop   

.L80009230:
/* 009E30 80009230 0C000280 */  jal   aki_free
/* 009E34 80009234 02402021 */   addu  $a0, $s2, $zero

.L80009238:
/* 009E38 80009238 3C028004 */  lui   $v0, %hi(D_8003EFB0) # $v0, 0x8004
/* 009E3C 8000923C 8C42EFB0 */  lw    $v0, %lo(D_8003EFB0)($v0)
/* 009E40 80009240 00561021 */  addu  $v0, $v0, $s6
/* 009E44 80009244 3C018004 */  lui   $at, %hi(D_8003EFB0) # $at, 0x8004
/* 009E48 80009248 AC22EFB0 */  sw    $v0, %lo(D_8003EFB0)($at)
/* 009E4C 8000924C 02201021 */  addu  $v0, $s1, $zero

.L80009250:
/* 009E50 80009250 8FBF006C */  lw    $ra, 0x6c($sp)
/* 009E54 80009254 8FB60068 */  lw    $s6, 0x68($sp)
/* 009E58 80009258 8FB50064 */  lw    $s5, 0x64($sp)
/* 009E5C 8000925C 8FB40060 */  lw    $s4, 0x60($sp)
/* 009E60 80009260 8FB3005C */  lw    $s3, 0x5c($sp)
/* 009E64 80009264 8FB20058 */  lw    $s2, 0x58($sp)
/* 009E68 80009268 8FB10054 */  lw    $s1, 0x54($sp)
/* 009E6C 8000926C 8FB00050 */  lw    $s0, 0x50($sp)
/* 009E70 80009270 03E00008 */  jr    $ra
/* 009E74 80009274 27BD0070 */   addiu $sp, $sp, 0x70
