# Params:
# $a0 - ? address

glabel func_8000FFEC
/* 010BEC 8000FFEC 27BDFFA8 */  addiu $sp, $sp, -0x58
/* 010BF0 8000FFF0 AFB00040 */  sw    $s0, 0x40($sp)
/* 010BF4 8000FFF4 00808021 */  addu  $s0, $a0, $zero
/* 010BF8 8000FFF8 AFBF0050 */  sw    $ra, 0x50($sp)
/* 010BFC 8000FFFC AFB3004C */  sw    $s3, 0x4c($sp)
/* 010C00 80010000 AFB20048 */  sw    $s2, 0x48($sp)
/* 010C04 80010004 AFB10044 */  sw    $s1, 0x44($sp)
/* 010C08 80010008 92020006 */  lbu   $v0, 6($s0)
/* 010C0C 8001000C 24110001 */  li    $s1, 1
/* 010C10 80010010 92030007 */  lbu   $v1, 7($s0)
/* 010C14 80010014 00519004 */  sllv  $s2, $s1, $v0
/* 010C18 80010018 02402021 */  addu  $a0, $s2, $zero
/* 010C1C 8001001C 0C000226 */  jal   aki_malloc
/* 010C20 80010020 00719804 */   sllv  $s3, $s1, $v1

/* 010C24 80010024 92030002 */  lbu   $v1, 2($s0)
/* 010C28 80010028 26100008 */  addiu $s0, $s0, 8
/* 010C2C 8001002C 1071002E */  beq   $v1, $s1, .L800100E8
/* 010C30 80010030 00405021 */   addu  $t2, $v0, $zero

/* 010C34 80010034 1260004D */  beqz  $s3, .L8001016C
/* 010C38 80010038 00004821 */   addu  $t1, $zero, $zero

/* 010C3C 8001003C 00128842 */  srl   $s1, $s2, 1
/* 010C40 80010040 02204021 */  addu  $t0, $s1, $zero

.L80010044:
/* 010C44 80010044 12200012 */  beqz  $s1, .L80010090
/* 010C48 80010048 00003821 */   addu  $a3, $zero, $zero

.L8001004C:
/* 010C4C 8001004C 00000000 */  nop   
/* 010C50 80010050 01280018 */  mult  $t1, $t0
/* 010C54 80010054 00001012 */  mflo  $v0
/* 010C58 80010058 01003021 */  addu  $a2, $t0, $zero
/* 010C5C 8001005C 24E40001 */  addiu $a0, $a3, 1
/* 010C60 80010060 01042823 */  subu  $a1, $t0, $a0
/* 010C64 80010064 01452821 */  addu  $a1, $t2, $a1
/* 010C68 80010068 00E21021 */  addu  $v0, $a3, $v0
/* 010C6C 8001006C 02021021 */  addu  $v0, $s0, $v0
/* 010C70 80010070 90430000 */  lbu   $v1, ($v0)
/* 010C74 80010074 00803821 */  addu  $a3, $a0, $zero
/* 010C78 80010078 00E6302B */  sltu  $a2, $a3, $a2
/* 010C7C 8001007C 00031102 */  srl   $v0, $v1, 4
/* 010C80 80010080 00031900 */  sll   $v1, $v1, 4
/* 010C84 80010084 00431025 */  or    $v0, $v0, $v1
/* 010C88 80010088 14C0FFF0 */  bnez  $a2, .L8001004C
/* 010C8C 8001008C A0A20000 */   sb    $v0, ($a1)

.L80010090:
/* 010C90 80010090 02202821 */  addu  $a1, $s1, $zero
/* 010C94 80010094 10A0000E */  beqz  $a1, .L800100D0
/* 010C98 80010098 00003821 */   addu  $a3, $zero, $zero

/* 010C9C 8001009C 01403021 */  addu  $a2, $t2, $zero
.L800100A0:
/* 010CA0 800100A0 00000000 */  nop   
/* 010CA4 800100A4 01250018 */  mult  $t1, $a1
/* 010CA8 800100A8 00001012 */  mflo  $v0
/* 010CAC 800100AC 90C40000 */  lbu   $a0, ($a2)
/* 010CB0 800100B0 24C60001 */  addiu $a2, $a2, 1
/* 010CB4 800100B4 00A01821 */  addu  $v1, $a1, $zero
/* 010CB8 800100B8 00E21021 */  addu  $v0, $a3, $v0
/* 010CBC 800100BC 24E70001 */  addiu $a3, $a3, 1
/* 010CC0 800100C0 02021021 */  addu  $v0, $s0, $v0
/* 010CC4 800100C4 00E3182B */  sltu  $v1, $a3, $v1
/* 010CC8 800100C8 1460FFF5 */  bnez  $v1, .L800100A0
/* 010CCC 800100CC A0440000 */   sb    $a0, ($v0)

.L800100D0:
/* 010CD0 800100D0 25290001 */  addiu $t1, $t1, 1
/* 010CD4 800100D4 0133102B */  sltu  $v0, $t1, $s3
/* 010CD8 800100D8 1440FFDA */  bnez  $v0, .L80010044
/* 010CDC 800100DC 02204021 */   addu  $t0, $s1, $zero

/* 010CE0 800100E0 0800405B */  j     .L8001016C
/* 010CE4 800100E4 00000000 */   nop   

.L800100E8:
/* 010CE8 800100E8 12600020 */  beqz  $s3, .L8001016C
/* 010CEC 800100EC 00004821 */   addu  $t1, $zero, $zero

/* 010CF0 800100F0 00003021 */  addu  $a2, $zero, $zero
.L800100F4:
/* 010CF4 800100F4 1240000D */  beqz  $s2, .L8001012C
/* 010CF8 800100F8 00003821 */   addu  $a3, $zero, $zero

/* 010CFC 800100FC 00C02021 */  addu  $a0, $a2, $zero
/* 010D00 80010100 24E30001 */  addiu $v1, $a3, 1

.L80010104:
/* 010D04 80010104 00E41021 */  addu  $v0, $a3, $a0
/* 010D08 80010108 00603821 */  addu  $a3, $v1, $zero
/* 010D0C 8001010C 02021021 */  addu  $v0, $s0, $v0
/* 010D10 80010110 90430000 */  lbu   $v1, ($v0)
/* 010D14 80010114 02471023 */  subu  $v0, $s2, $a3
/* 010D18 80010118 01421021 */  addu  $v0, $t2, $v0
/* 010D1C 8001011C A0430000 */  sb    $v1, ($v0)
/* 010D20 80010120 00F2102B */  sltu  $v0, $a3, $s2
/* 010D24 80010124 1440FFF7 */  bnez  $v0, .L80010104
/* 010D28 80010128 24E30001 */   addiu $v1, $a3, 1

.L8001012C:
/* 010D2C 8001012C 1240000B */  beqz  $s2, .L8001015C
/* 010D30 80010130 00003821 */   addu  $a3, $zero, $zero

/* 010D34 80010134 00C02821 */  addu  $a1, $a2, $zero
/* 010D38 80010138 01402021 */  addu  $a0, $t2, $zero
.L8001013C:
/* 010D3C 8001013C 90820000 */  lbu   $v0, ($a0)
/* 010D40 80010140 00E51821 */  addu  $v1, $a3, $a1
/* 010D44 80010144 24E70001 */  addiu $a3, $a3, 1
/* 010D48 80010148 02031821 */  addu  $v1, $s0, $v1
/* 010D4C 8001014C A0620000 */  sb    $v0, ($v1)
/* 010D50 80010150 00F2102B */  sltu  $v0, $a3, $s2
/* 010D54 80010154 1440FFF9 */  bnez  $v0, .L8001013C
/* 010D58 80010158 24840001 */   addiu $a0, $a0, 1

.L8001015C:
/* 010D5C 8001015C 25290001 */  addiu $t1, $t1, 1
/* 010D60 80010160 0133102B */  sltu  $v0, $t1, $s3
/* 010D64 80010164 1440FFE3 */  bnez  $v0, .L800100F4
/* 010D68 80010168 00D23021 */   addu  $a2, $a2, $s2

.L8001016C:
/* 010D6C 8001016C 0C000280 */  jal   aki_free
/* 010D70 80010170 01402021 */   addu  $a0, $t2, $zero

/* 010D74 80010174 8FBF0050 */  lw    $ra, 0x50($sp)
/* 010D78 80010178 8FB3004C */  lw    $s3, 0x4c($sp)
/* 010D7C 8001017C 8FB20048 */  lw    $s2, 0x48($sp)
/* 010D80 80010180 8FB10044 */  lw    $s1, 0x44($sp)
/* 010D84 80010184 8FB00040 */  lw    $s0, 0x40($sp)
/* 010D88 80010188 03E00008 */  jr    $ra
/* 010D8C 8001018C 27BD0058 */   addiu $sp, $sp, 0x58
